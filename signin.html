<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <!-- <h2>註冊</h2>
    <input type="email" id="register-email" placeholder="Email"><br>
    <input type="password" id="register-password" placeholder="Password"><br>
    <button onclick="register()">註冊</button>

    <h2>登入</h2>
    <input type="email" id="login-email" placeholder="Email"><br>
    <input type="password" id="login-password" placeholder="Password"><br>
    <button onclick="login()">登入</button> -->

    <h2>Google 登入</h2>
    <div id="firebaseui-auth-container"></div>

    <script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/5.0.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/5.0.0/firebase-ui-auth.css" />
    <script src="./js/firebase.js"></script>

    <script>
        // 註冊新使用者
        function register() {
            const email = document.getElementById("register-email").value;
            const password = document.getElementById("register-password").value;

            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // 註冊成功
                    console.log("註冊成功");
                })
                .catch((error) => {
                    // 註冊失敗
                    console.log("註冊失敗", error.message);
                });
        }

        // 登入
        function login() {
            const email = document.getElementById("login-email").value;
            const password = document.getElementById("login-password").value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // 登入成功
                    console.log("登入成功");
                    window.location.href = "index.html";
                })
                .catch((error) => {
                    // 登入失敗
                    console.log("登入失敗", error.message);
                });
        }

        // 創建 Firebase UI 實例
        const ui = new firebaseui.auth.AuthUI(auth);

        // 設置 Google 登入選項
        const uiConfig = {
            signInOptions: [
                firebase.auth.GoogleAuthProvider.PROVIDER_ID
            ],
            signInSuccessUrl: 'index.html',
            signInFlow: 'popup'
        };

        // 初始化 Firebase UI
        ui.start('#firebaseui-auth-container', uiConfig);
    </script>
</body>

</html>